{% comment %}
Image Carousel Component
Usage: {% include carousel.html images=page.images project_path=project_path %}
- images: array of image objects with filename, alt, and caption
- project_path: path to project images folder  
{% endcomment %}

{% assign carousel_images = include.images %}
{% assign project_path = include.project_path %}

{% if carousel_images and carousel_images.size > 0 %}
<div class="image-carousel gallery-mode">
    <div class="carousel-container">
        <div class="carousel-track">
            {% for image in carousel_images %}
                <div class="carousel-slide">
                    <img src="{{ image.filename | relative_url }}" alt="{{ image.alt }}" loading="lazy">
                </div>
            {% endfor %}
        </div>
        
        <!-- Captions below images -->
        {% if carousel_images.size > 0 %}
            <div class="carousel-captions">
                {% for image in carousel_images %}
                    <div class="carousel-caption" data-slide="{{ forloop.index0 }}">
                        {{ image.caption | default: "" }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        {% if carousel_images.size > 1 %}
            <!-- Navigation arrows -->
            <button class="carousel-controls prev" aria-label="Previous image"></button>
            <button class="carousel-controls next" aria-label="Next image"></button>
            
            <!-- Counter -->
            <div class="carousel-counter">1 / {{ carousel_images.size }}</div>
            
            <!-- Indicators -->
            <div class="carousel-indicators">
                <!-- Indicators will be generated by JavaScript -->
            </div>
        {% endif %}
    </div>
</div>
{% endif %}